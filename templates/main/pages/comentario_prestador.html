{% extends "pages/base.html" %}
{% block subtitulo %}Cadastro prestador{% endblock %}
{% block conteudo %}

<div class="comment-container" id="comment-box">
    <div class="d-flex align-items-center mb-3">
        <img src="static/img/images/image (8).png" alt="Perfil" class="profile-img">
        <div class="ms-3">
            <h5>Karla Silva Cardoso</h5>
            <div class="star-rating" id="star-rating">
                <span class="star" data-value="1">★</span>
                <span class="star" data-value="2">★</span>
                <span class="star" data-value="3">★</span>
                <span class="star" data-value="4">★</span>
                <span class="star" data-value="5">★</span>
            </div>
        </div>
    </div>

    <div class="mb-3">
        <textarea class="form-control" rows="4" placeholder="Compartilhe sua experiência..."></textarea>
    </div>
    <div class="text-muted small mb-3">
        O seu comentário será publicado de forma aberta no Workin.
    </div>

    <div class="d-flex justify-content-center">
        <button class="btn btn-cancel me-2" id="cancel-btn">Cancelar</button>
        <button class="btn btn-publish" id="publish-btn">Publicar</button>
    </div>
</div>

<script>
    // Função para fechar o container ao clicar no botão "Cancelar"
    document.getElementById("cancel-btn").addEventListener("click", function() {
        document.getElementById("comment-box").classList.add("hidden");
    });

    // Função para redirecionar para uma página vazia ao clicar no botão "Publicar"
    document.getElementById("publish-btn").addEventListener("click", function() {
        window.location.href = "/pagina_vazia"; // URL da página para onde será redirecionado
    });

    // Lógica para a seleção de estrelas
    const stars = document.querySelectorAll('.star');
    let selectedRating = 0;

    stars.forEach(star => {
        star.addEventListener('click', function() {
            selectedRating = this.getAttribute('data-value');
            resetStars(); // Reseta todas as estrelas para branco
            highlightStars(selectedRating); // Destaca as estrelas até a clicada
        });
    });

    // Função para resetar todas as estrelas para branco
    function resetStars() {
        stars.forEach(star => {
            star.classList.remove('selected');
        });
    }

    // Função para destacar as estrelas até o valor selecionado
    function highlightStars(rating) {
        for (let i = 0; i < rating; i++) {
            stars[i].classList.add('selected');
        }
    }
</script>

{% endblock %}